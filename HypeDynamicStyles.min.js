/*
 Hype Dynamic Styles 1.0.4
copyright (c) 2022 Max Ziebell, (https://maxziebell.de). MIT-license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(k){var l=0;return function(){return l<k.length?{done:!1,value:k[l++]}:{done:!0}}};$jscomp.arrayIterator=function(k){return{next:$jscomp.arrayIteratorImpl(k)}};$jscomp.makeIterator=function(k){var l="undefined"!=typeof Symbol&&Symbol.iterator&&k[Symbol.iterator];return l?l.call(k):$jscomp.arrayIterator(k)};
!1==="HypeDynamicStyles"in window&&(window.HypeMissingSelectors=function(){function k(c){var a=document.createElement("style");a.type="text/css";a.id=c;document.head.appendChild(a);return a}function l(c,a){return u[c]?u[c](a):a}function w(c){var a=document.createElement("div");a.style.cssText=c;return!!a.style.length}function D(c,a){-1===a.indexOf("transform")&&/top|left|right|bottom/.test(a)&&(a="transform: none; "+a);p.innerHTML+="#"+c+"{"+a.split(";").filter(function(e){return 0<e.trim().length}).map(function(e){return e+
(-1==e.indexOf("!important")?" !important;":";")}).join("")+"}"}function q(c){p.innerHTML=p.innerHTML.replace(new RegExp("#"+c+"{[^}]*}"),"")}function x(c){return Object.keys(c).map(function(a){return a.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})+": "+c[a]+";"}).join("")}function y(c){var a=c.match(/\((\w+)\)\s*(\w+)/);return a?[a[1],a[2],a[2]+"-"+a[1]]:[null,c,c]}function z(c,a){var e=a.indexOf(c);if(-1===e)return"";for(e+=c.length;"("!==a.charAt(e);)e++;e++;for(var m="";")"!==a.charAt(e);)m+=
a.charAt(e),e++;return m}function A(c,a){for(var e=a.querySelectorAll("*"),m=0;m<e.length;m++)for(var r=e[m],f=getComputedStyle(r),b=0;b<f.length;b++){var d=f[b];d.startsWith("--"+c)&&r.style.removeProperty(d)}}function B(c,a,e){function m(f,b,d){var g=b.getAttribute("data-style-closest");g&&(d=b.closest(g)||d);b=b.style;g=f.split(":");f=g[0];g=g[1]?g[1].split(",").map(function(v){return v.trim()}).filter(function(v){return v.length}):["width","height"];for(var n=$jscomp.makeIterator(g),h=n.next();!h.done;h=
n.next()){h=h.value;var t=y(h);if(b[t[1]]){var E=l(t[0],b[t[1]]);d.style.setProperty("--"+f+"-"+t[2],E);g.splice(g.indexOf(h),1)}}if(b.transform)for(g=$jscomp.makeIterator(g),h=g.next();!h.done;h=g.next())if(n=y(h.value),h=z(n[1],b.transform))h=l(n[0],h),d.style.setProperty("--"+f+"-"+n[2],h)}(new MutationObserver(function(f){f.forEach(function(b){var d=b.target.id;b=b.target.getAttribute("data-style");if(null===b)q(d);else try{w(b)?(q(d),D(d,b)):q(d)}catch(g){q(d)}})})).observe(a,{subtree:!0,attributes:!0,
attributeFilter:["data-style"]});var r=new MutationObserver(function(f){f.forEach(function(b){var d=b.target.getAttribute("data-style-var");d&&(b.oldValue&&"data-style-closest"===b.attributeName&&A(d,a),m(d,b.target,a))})});(new MutationObserver(function(f){a.querySelectorAll("[data-style-var]").forEach(function(b){var d=b.getAttribute("data-style-var");d&&(m(d,b,a),r.observe(b,{attributes:!0,attributeOldValue:!0,attributeFilter:["style","data-style-var","data-style-closest"]}))})})).observe(a,{childList:!0,
subtree:!0});C||(c.setElementStyle=function(f,b){f&&b&&("object"==typeof b&&(b=x(b)),f.setAttribute("data-style",b))},!0==="HypeActionEvents"in window&&(c.refreshStyleActions=function(f){f=f||c;f.querySelectorAll("[data-style-action]").forEach(function(b){var d=b.getAttribute("data-style-action");d&&(d=c.triggerAction("return "+d,{element:b,event:e}))&&c.setElementStyle(b,d)})}))}var C=-1!=window.location.href.indexOf("/Hype/Scratch/HypeScratch."),u={"int":parseInt,"float":parseFloat},p=k("hype-dynamic-styles");
!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:B});window.HYPE_eventListeners.push({type:"HypeScenePrepareForDisplay",callback:function(c,a,e){!0==="HypeActionEvents"in window&&c.refreshStyleActions()}});C&&document.addEventListener("DOMContentLoaded",function(){B({},document.body,null)});return{version:"1.0.4",isValidCSS:w,styleToString:x,createStyleSheet:k,parseTransform:z,removeStyleVariable:A,registerCastingFunction:function(c,
a){u[c]=a},resolveCastingFunction:l}}());
